<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" type="text/css" href="001.css">

    <script>

      var isFocus = false;

      // Content
      var colors = ["#ffffff", "#ffffff", "#ffffff", "ffffff"];
      var headers = ["Возможности\nинтернет-банка", "Новости", "Рекомендации по безопасности", "Интернет-банк\nВТБ-Онлайн"];
      var texts = [
        "<ul>" +
        "<li>Оплата мобильной связи, интернета, ЖКХ и других услуг без очередей<br>и в любое время" +
        "<li>Моментальные переводы на карты любых банков" +
        "<li>Удобное открытие и управление вкладами" +
        "<li>Оформление заявки на получение кредита" +
        "</ul>",
        "<span class='newsDate'>20.12.17</span><span class='newsTitle'>В Новый год с новым ВТБ-Онлайн</span><br>" +
        "<span class='newsDate'>11.10.17</span><span class='newsTitle'>Удобные переводы</span><br>" +
        "<span class='newsDate'>14.08.17</span><span class='newsTitle'>Большое обновление Мобильного банка для iOS</span><br>" +
        "<span class='newsDate'>31.07.17</span><span class='newsTitle'>Сезонный вклад «Быстрый доход»</span><br>" +
        "<span class='newsDate'>20.12.17</span><span class='newsTitle'>В Новый год с новым ВТБ-Онлайн</span><br>" +
        "<span class='newsDate'>07.07.17</span><span class='newsTitle'>Комиксы о правилах финансовой безопасности</span><br>",
        "<ul>" +
        "<li>Храните в тайне пароли, коды для подтверждения операций и CVV-код (номер на обратной стороне карты)" +
        "<li>Регулярно обновляйте пароль для входа в Интернет-банк по требованию Банка, направленному в автоматическом режиме" +
        "<li>В случае утери телефона немедленно заблокируйте SIM-карту или Интернет-банк" +
        "</ul>",
        "С 1 января ВТБ Банк Москвы и ВТБ24 объединились и стали одним банком&nbsp;— ВТБ. К вашим услугам теперь новый и удобный интернет-банк ВТБ-Онлайн." +
        "<ul>" +
        "<li>Быстрая онлайн регистрация по номеру карты" +
        "<li>Сохранение выписок по проведенным ранее операциям" +
        "<li>Переводы клиентам ВТБ по номеру телефона, оформление вкладов и кредитов и другие удобные преимущества" +
        "</ul>"
      ];
      var links = ["Узнать все возможности", "Больше новостей", "Больше советов ", "Веб-сайт"];

      // Pack content into array of objects. Each object - logotype and popup with their own props
      var logotypes = [];

      for (i = 0; i < logotypesCount; i++) {
        logotypes[i] = {
          bg: "",
          bgId: "lbg" + i,
          wrapperBg: "",
          wrapperBgId: "lwbg" + i,
          bgColor: colors[i],
          Header: headers[i],
          Text: texts[i],
          Link: links[i],
        }
      }

      // Show logotype circle background on hover
      function showBG(elem) {
        elem.classList.remove("logoBackgroundHide");
        elem.classList.add("logoBackgroundShow");
      }

      // Remove logotype circle background
      function hideBG(elem) {
        elem.classList.remove("logoBackgroundVisible");
        elem.classList.add("logoBackgroundHide");
      }

      // Show popup if clicked on logotype
      function showPopup(logo) {

        if (!isFocus) {
          // Create new html elements for popup
          var shadow = document.createElement("div");
          var clicker = document.createElement("div");
          var popupContainer = document.createElement("div");
          var popup = document.createElement("div");
          var popupContent = document.createElement("div");
          var popupCloseIcon = document.createElement("div");
          var popupHeader = document.createElement("div");
          var popupText = document.createElement("div");
          var popupButton = document.createElement("button");

          // Add style classes to elements
          shadow.classList.add("shadow");
          clicker.classList.add("clicker");
          popupContainer.classList.add("popupContainer");
          popup.classList.add("popup");
          popupContent.classList.add("popupContent");
          popup.style.backgroundColor = logo.bgColor;
          popupCloseIcon.classList.add("popupCloseIcon");
          popupHeader.classList.add("popupHeader");
          popupButton.classList.add("popupButton");

          // Add content
          popupCloseIcon.innerHTML = "<img src='icon_close.svg'>";
          popupHeader.innerText = logo.Header;
          popupText.innerHTML = logo.Text;
          popupButton.innerText = logo.Link;

          // Push elements to DOM
          var shadowElem = document.body.appendChild(shadow);
          var clickerElem = shadow.appendChild(clicker);
          clicker.appendChild(popupContainer);
          var popupElem = popupContainer.appendChild(popup);
          popup.appendChild(popupContent);
          popupContent.appendChild(popupCloseIcon);
          popupContent.appendChild(popupHeader);
          popupContent.appendChild(popupText);
          popupContent.appendChild(popupButton);

          // Exclution for top banner
          if (logo.wrapperBgId === "lwbg3") {
            var popupButton2 = document.createElement("button");
            popupButton2.classList.add("popupButton");
            popupButton2.innerText = "Мобильные приложения";
            popupContent.appendChild(popupButton2);
          }


          // Create event handlers to hide popup
          popupCloseIcon.addEventListener("click", function () {
            hidePopup(shadowElem)
          }, false);
          clickerElem.addEventListener("click", function () {
            hidePopup(shadowElem)
          }, false);
          popupElem.addEventListener("click", function (event) {
            event.stopImmediatePropagation();
          }, false)
        }
      }

      // Hide popup
      function hidePopup(elem) {
        document.body.removeChild(elem);
      }

      function cursorPointer() {
        lwbg0.classList.remove("cursorDefault");
        lwbg1.classList.remove("cursorDefault");
        lwbg2.classList.remove("cursorDefault");
        lwbg3.classList.remove("cursorDefault");
      }

      function cursorDefault() {
        lwbg0.classList.add("cursorDefault");
        lwbg1.classList.add("cursorDefault");
        lwbg2.classList.add("cursorDefault");
        lwbg3.classList.add("cursorDefault");
      }

      function focusForm() {
        noticeContainer.classList.remove("visible");
        logoRow.classList.remove("visible");

        noticeContainer.classList.add("hidden");
        logoRow.classList.add("hidden");

        // pageContainer.classList.add("focusBackground");

        isFocus = true;
        cursorDefault();

        if (!formLogin.value && !formPass.value) {
          unfocusForm();
        }
      }

      function unfocusForm () {
        noticeContainer.classList.remove("hidden");
        logoRow.classList.remove("hidden");

        noticeContainer.classList.add("visible");
        logoRow.classList.add("visible");

        isFocus = false;
        cursorPointer();

      }


      function checkVisibility () {
        validateButton();

        if (formLogin.value) {
          focusForm();

          formLogin.classList.add("resizeLogin");

          formPassContainer.classList.remove("hidden");
          formPassContainer.classList.add("visible");

          formButtonContainer.classList.remove("hidden");
          formButtonContainer.classList.add("visible");
        }
        else {
          if (!formPass.value) {
            formLogin.classList.remove("resizeLogin");

            formPassContainer.classList.remove("visible");
            formPassContainer.classList.add("hidden");

            formButtonContainer.classList.remove("visible");
            formButtonContainer.classList.add("hidden");

            formLogin.classList.remove("resizeLogin");
            unfocusForm();
          }
        }
      }

      function validateButton() {
        if (formLogin.value && formPass.value) {
          formButton.classList.add("formButtonValid");
        }
        else {
          formButton.classList.remove("formButtonValid");
        }
      }

      window.onload = function() {

        var logoRow = document.getElementById("logoRow");
        var noticeContainer = document.getElementById("noticeContainer")
        var formLogin = document.getElementById("formLogin");
        var formComment = document.getElementById("formComment");
        var formPass = document.getElementById("formPass");
        var formPassContainer = document.getElementById("formPassContainer");
        var formButtonContainer = document.getElementById("formButtonContainer");
        var formButton = document.getElementById("formButton");
        var formCheckbox = document.getElementById("formCheckbox");
        var formTitle = document.getElementById("formTitle");
        var pageContainer = document.getElementById("pageContainer");

        var clickerElem2 = document.getElementById("pageContainer");

        // Checkers for showing password and submit button
        formLogin.addEventListener("input", checkVisibility, false);
        formPass.addEventListener("input", validateButton, false);

        // Focus login form
        formLogin.focus();

        // Stoping click propoganation
        formLogin.addEventListener("click", function(event) {
          event.stopImmediatePropagation();
        }, false);
        formComment.addEventListener("click", function(event) {
          event.stopImmediatePropagation();
        }, false);
        formPass.addEventListener("click", function(event) {
          event.stopImmediatePropagation();
        }, false);
        formCheckbox.addEventListener("click", function(event) {
          event.stopImmediatePropagation();
        }, false);
        formTitle.addEventListener("click", function(event) {
          event.stopImmediatePropagation();
        }, false);
        formButton.addEventListener("click", function(event) {
          event.stopImmediatePropagation();
        }, false);

        formLogin.addEventListener("focus", checkVisibility, false);
        clickerElem2.addEventListener("click", checkVisibility, false);

        // Checker to unfocus login form
        clickerElem2.addEventListener("click", unfocusForm, false);
        formLogin.addEventListener("focus", focusForm, false);
        formPass.addEventListener("focus", focusForm, false);


        var lbg0 = document.getElementById("lbg0");
        var lbg1 = document.getElementById("lbg1");
        var lbg2 = document.getElementById("lbg2");
        var lwbg0 = document.getElementById("lwbg0");
        var lwbg1 = document.getElementById("lwbg1");
        var lwbg2 = document.getElementById("lwbg2");
        var lwbg3 = document.getElementById("lwbg3");

        // Create event handlers to show/hide circle backgrounds on hover logotypes
        lwbg0.addEventListener("mouseenter", function () {
          showBG(lbg0);
        }, false);
        lwbg0.addEventListener("mouseleave", function () {
          hideBG(lbg0);
        }, false);

        lwbg1.addEventListener("mouseenter", function () {
          showBG(lbg1);
        }, false);
        lwbg1.addEventListener("mouseleave", function () {
          hideBG(lbg1);
        }, false);

        lwbg2.addEventListener("mouseenter", function () {
          showBG(lbg2);
        }, false);
        lwbg2.addEventListener("mouseleave", function () {
          hideBG(lbg2);
        }, false);

        // Create event handler to show popup when logotype clicked
        lwbg0.addEventListener("click", function () {
          showPopup(logotypes[0]);
        }, false);
        lwbg1.addEventListener("click", function () {
          showPopup(logotypes[1]);
        }, false);
        lwbg2.addEventListener("click", function () {
          showPopup(logotypes[2]);
        }, false);
        lwbg3.addEventListener("click", function () {
          showPopup(logotypes[3]);
        }, false);

      }

    </script>
  </head>
  <body>
  <div id="pageContainer" class="pageContainer">
    <div class="pageHeader">
      <div class="headerLogo"><img src="vtb_logo.svg"></div>
      <div class="headerContacts">
        <div class="headerLinks">Форма обратной связи</div>
        <div class="headerLinks">Онлайн-звонок</div>
        <div class="headerContactsPhone">8 (495) 925-80-00</div>
      </div>
    </div>
    <div id="noticeContainer" class="noticeContainer">
      <div class="pageSubTitle">
        <div><img src="bm_logo.svg"></div>
        <div style="padding-right: 40px; padding-left: 40px;">
          <div>ВТБ Банк Москвы и ВТБ24 объединились и стали одним банком — ВТБ.</div>
          <div style="font-size: 14px; color: rgba(255, 255, 255, .8);">К вашим услугам теперь новый и удобный интернет-банк ВТБ-Онлайн.</div>
        </div>
        <div><button id="lwbg3" class="noticeButton">Подробнее</button></div>
      </div>
    </div>
    <div id="formContainer" class="formContainer">
      <div class="pageTitle">Вход в интернет-банк</div>
      <div style="width: 100%; display: flex; flex-wrap: wrap; justify-content: flex-start;">
        <div class="formLoginContainer">
          <div class="formTitle">Логин</div>
          <div><input class="formLogin" id="formLogin"></div>
          <div class="formComment2">Адрес электронной почты или логин,<br>выданный банком</div>
          <div id="formComment" class="formComment">Забыли логин или пароль?</div>
        </div>
        <div id="formPassContainer" class="formPassContainer hidden">
          <div class="formTitle">Пароль</div>
          <div><input id="formPass" type="password"></div>
          <div class="formCheckboxContainer">
            <div id="formCheckbox" class="formCheckbox"></div>
            <div id="formTitle" class="formTitle formCheckboxTitle">Запомнить меня</div>
          </div>
        </div>
        <div id="formButtonContainer" class="formButtonContainer hidden">
          <div><button id="formButton" class="formButton">Войти</button></div>
        </div>
      </div>
    </div>
    <div class="logoBlock" id="logoRow">
      <div class="logoWrapper">
        <div class="logoBackground" id="lbg0" style="background-color: #0A2973;"></div>
        <div class="logoBackgroundWrapper" id="lwbg0"></div>
        <div class="logo">
          <div style="margin-bottom: 20px;"><img src="icon_features.svg"></div>
          <div class="activityTitle">Возможности интернет-банка</div>
          <div class="activityText">Оплата мобильной связи, интернета, ЖКХ и&nbsp;других услуг без&nbsp;очередей и&nbsp;в&nbsp;любое&nbsp;время</div>
        </div>
      </div>
      <div class="logoWrapper">
        <div class="logoBackground" id="lbg1" style="background-color: #0A2973;"></div>
        <div class="logoBackgroundWrapper" id="lwbg1"></div>
        <div class="logo">
          <div style="margin-bottom: 20px;"><img src="icon_news.svg"></div>
          <div class="activityTitle">Новости</div>
          <div class="activityText">Большое обновление Мобильного банка для iOS</div>
        </div>
      </div>
      <div class="logoWrapper">
        <div class="logoBackground" id="lbg2" style="background-color: #0A2973;"></div>
        <div class="logoBackgroundWrapper" id="lwbg2"></div>
        <div class="logo">
          <div style="margin-bottom: 20px;"><img src="icon_safety.svg"></div>
          <div class="activityTitle">Рекомендации по безопасности</div>
          <div class="activityText">Адрес Интернет-банка обязательно должен начинаться с&nbsp;&laquo;<span style="color: rgba(255, 255, 255, .8)">https://</span>&raquo;</div>
        </div>
      </div>
    </div>

  </div>
  </body>
</html>